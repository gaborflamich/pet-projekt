<section>
  <div class="wrapper">
    <h1 class="form-title">Registration form</h1>
    <form [formGroup]="signupForm" (ngSubmit)="onSubmit()" class="form">
      <div class="form-group" formGroupName="userData">
        <div class="form-group">
          <label class="form-group-label" for="username">Username</label>
          <input formControlName="username" id="username" type="text" class="form-group-input" />
          <div *ngIf="username?.touched && username?.invalid" class="alert">
            <span *ngIf="username?.errors?.['required']"> Username field is required! </span>
            <span *ngIf="username?.errors?.['cannotContainSpace']"> The username can not contain space! </span>
            <span *ngIf="username?.hasError?.('containsUppercase')"> The username can not contain uppercase letter! </span>
            <span *ngIf="username?.errors?.['nameIsForbidden']"> This username is forbidden! </span>
          </div>
        </div>
        <div class="form-group">
          <label class="form-group-label" for="email">Email</label>
          <input formControlName="email" id="email" type="text" class="form-group-input" />
          <div *ngIf="email?.touched && email?.invalid" class="alert">Please enter a valid email!</div>
        </div>
        <div class="form-group">
          <label class="form-group-label" for="password">Password</label>
          <input formControlName="password" id="password" type="text" class="form-group-input" />
          <div *ngIf="password?.touched && password?.invalid && password?.dirty" class="alert">
            <span class="form-group-password-helper" *ngIf="password?.errors?.['required']">Password is required.</span>
            <span class="form-group-password-helper" *ngIf="password?.errors?.['minlength']"
              >Password should be at least 10 characters long.</span
            >

            <span class="form-group-password-helper" *ngIf="password?.errors?.['maxlength']"
              >Password can be maximum 32 characters long.</span
            >
            <span class="form-group-password-helper" *ngIf="password?.errors?.['passwordContainsNumber']"
              >Password should contain at least one number</span
            >

            <span class="form-group-password-helper" *ngIf="password?.errors?.['passwordContainsUppercase']">
              Password should contain at least one uppercase letter.
            </span>

            <span class="form-group-password-helper" *ngIf="password?.errors?.['passwordContainsLowercase']">
              Password should contain at least one lowercase letter.
            </span>

            <span class="form-group-password-helper" *ngIf="password?.errors?.['passwordContainsSpecChar']">
              Password should contain at least one special character.
            </span>
          </div>
        </div>
        <div class="form-group">
          <label class="form-group-label" for="confirmPassword">Confirm Password</label>
          <input formControlName="confirmPassword" id="confirmPassword" type="text" class="form-group-input" />
          <div *ngIf="confirmPassword?.touched && confirmPassword?.invalid && confirmPassword?.dirty" class="alert">
            <span
              *ngIf="
        confirmPassword?.errors?.['passwordMismatch']"
            >
              Passwords do not match.
            </span>
          </div>
        </div>
      </div>
      <div class="form-group radio" *ngFor="let gender of genders">
        <label class="form-group-label" for="gender" name="gender">
          <input type="radio" formControlName="gender" [value]="gender" id="gender" name="gender" />
          {{ gender }}
        </label>
      </div>

      <div formArrayName="hobbies" class="formn-group">
        <h4 class="form-group-title">Your Hobbies</h4>
        <button (click)="onAddHobby()" type="button" class="form-btn">Add Hobby</button>
        <div class="form-group" *ngFor="let hobbyControl of getControls(); let i = index">
          <input type="text" class="form-control form-group-input" [formControlName]="i" id="" />
        </div>
      </div>

      <div class="form-group checkbox">
        <input class="form-group-checkbox" type="checkbox" id="privacy" name="privacy" value="accepted" />
        <label class="form-group-label" for="privacy">
          I have read and accept the
          <a class="form-group-label-link" href="#">Privacy Policy</a></label
        >
        <div *ngIf="privacy?.touched && privacy?.invalid" class="alert">Please accept the Privacy Policy</div>
      </div>

      <button class="form-submit" type="submit">Sign Up</button>
    </form>
  </div>
</section>
